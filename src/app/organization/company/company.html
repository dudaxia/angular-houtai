
<form class="form-horizontal vbox" form-validator formvalidatorconfig="eventformvalidate" method="post">
  <section class="hbox stretch">
    <section class="vbox">
      <header class="header bg-white b-b clearfix">
        <div class="row m-t-sm">
          <div class="col-sm-8 m-b-xs">
            <span class="m-r">公司管理</span>
            <div class="btn-group m-r-xs">
              <a class="btn btn-primary pointer m-r-xs btn-sm" href="javascript:;" ng-click="addCompanyFun()">添加公司</a>
            </div>
          </div>
        </div>
      </header>
      <section class="scrollable wrapper w-f">
        <section class="panel panel-default">
          <div class="panel-body">
            <div class="load" ng-if="pageLoading">正在加载中</div>
            <div class="clearfix" ng-if="!pageLoading">
              <div class="col-sm-3" sub-tree subtree-list="subtreeData" ng-if="subtreeData.length"></div>
              <div class="col-sm-9 instruction-list g-mb60" style="padding-right:0;">
                <div class="bg-white wrapper-sm h-full">
                  <div class="bg-white wrapper-sm" ng-if="!addCompany">
                    <div class="aside-content bg-light lter form-horizontal wrapper-xs normal-content">
                      <div class="form-group m-t">
                         <label class="col-sm-1 control-label must" style="width: 120px;">{{isCompany?"公司":"部门"}}名称</label>
                         <div class="col-sm-8">
                           <input class="form-control" placeholder="请输入公司名称" data-rule-required="true" type="text" ng-model="entity.name" name="share.name">
                         </div>
                      </div>
                      <div class="form-group" ng-if="isCompany">
                        <label class="col-sm-1 control-label" style="width: 120px;">公司logo</label>
                        <div class="col-sm-6">
                          <div ng-show="!entity.logo||entity.isDel">
                            <upload-button max-count="10" accept=".jpg,.gif,.png,.jpeg,.bmp" callback="upload(data)" fields="{classifyId:filters.classifyId}" ></upload-button>
                          </div>
                          <div class="pos-rlt logo-wrapper" ng-show="entity.logo&&!entity.isDel">
                            <img class="company-logo" ng-src="{{entity.logo}}" ng-show="entity.logo"/>
                            <!-- <div class="re-choise pos-abt">
                              <div class="dask pos-abt"></div>
                              重新选择
                            </div> -->
                            <a class="close pos-abt change-img-button" href="javascript:;" title="删除" ng-click="rechoiseImg(entity)">
                              <i class="fa fa-times-circle"></i>
                            </a>
                          </div>
                        </div>
                      </div>
                      <div class="form-group m-t" ng-if="!isCompany">
                         <label class="col-sm-1 control-label must" style="width: 120px;">排序号</label>
                         <div class="col-sm-8">
                           <input class="form-control" placeholder="请输入公司名称" data-rule-required="true" type="text" ng-model="entity.SortNum" name="entity.SortNum">
                         </div>
                      </div>
                      <div class="form-group" ng-if="!isCompany">
                        <label class="col-sm-1 control-label" style="width: 120px;">所属公司</label>
                        <div class="col-sm-6">
                          <select class="input-sm m-r-sm mySel fl" name="fff" ng-options="item.id as item.name for item in companyAllListData" ng-model="entity.companyId"></select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="bg-white wrapper-sm" ng-if="addCompany">
                    <div class="aside-content bg-light lter form-horizontal wrapper-xs normal-content">
                      <div class="form-group m-t">
                         <label class="col-sm-1 control-label must" style="width: 120px;">公司名称</label>
                         <div class="col-sm-8">
                           <input class="form-control" placeholder="请输入公司名称" data-rule-required="true" type="text" ng-model="entity.name" name="entity.name">
                         </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-1 control-label must" style="width: 120px;">公司logo</label>
                        <div class="col-sm-6">
                          <upload-button max-count="10" accept=".jpg,.gif,.png,.jpeg,.bmp" callback="upload(data)" fields="{classifyId:filters.classifyId}" ng-show="!entity.logo"></upload-button>
                          <div class="pos-rlt logo-wrapper" ng-show="entity.logo">
                            <img class="company-logo" ng-src="{{entity.logo}}"/>
                            <a class="close pos-abt change-img-button" href="javascript:;" title="删除" ng-click="rechoiseImg(entity.logo,true)"><i class="fa fa-times-circle"></i></a>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                         <label class="col-sm-1 control-label must" style="width: 120px;">公司地址</label>
                         <div class="col-sm-8">
                           <select class="input-sm m-r-sm fl" name="fff" ng-options="item.id as item.areaName for item in provinceAreaList" ng-model="entity.ProvinceAreaId" ng-change="getAreaListChange(entity.ProvinceAreaId)"></select>
                           <select class="input-sm m-r-sm fl" name="fff" ng-options="item.id as item.areaName for item in cityAreaList" ng-model="entity.CityAreaId" ng-change="getAreaAreaListChange(entity.CityAreaId)" ng-show="entity.ProvinceAreaId"></select>
                           <select class="input-sm m-r-sm fl" name="fff" ng-options="item.id as item.areaName for item in areaAreaList" ng-model="entity.AreaAreaId" ng-show="entity.CityAreaId"></select>
                         </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
          </div>
        </section>
      </section>
      <footer class="footer bg-white b-t text-right pos-abt">
        <button type="submit" class="btn btn-primary" btn-loading="saveloading" loading-text="保存中...">保存</button>
        <button type="button" class="btn btn-default" back-state="">取消</button>
    </footer>
    </section>
  </section>
</form>
